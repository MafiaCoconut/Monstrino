---
id: adr-005-generic-baserepo
title: ADR-005 â€” Generic BaseRepo and CrudRepo
sidebar_label: ADR-005 BaseRepo
---

> **Status:** Accepted  
> **Scope:** Repository design  
> **Audience:** Engineering / Architecture review

---

## Context

Multiple repositories shared identical CRUD logic.
Duplicating these methods increased maintenance cost and inconsistency risk.

---

## Decision

Introduce a **generic BaseRepo** and a layered **CrudRepo** abstraction:

- BaseRepo encapsulates raw SQLAlchemy operations
- CrudRepo provides reusable domain-agnostic CRUD behavior

---

## Alternatives Considered

### 1. Custom Repository per Entity

:::danger Rejected
- Code duplication
- Diverging logic
- Expensive refactors
:::

---

## Consequences

### âœ… Positive
- DRY persistence layer
- Consistent query behavior
- Faster onboarding of new entities

### âš ï¸ Negative
- Generic abstractions require careful design

### ğŸ¯ Accepted Trade-off

> Shared infrastructure over per-entity flexibility.